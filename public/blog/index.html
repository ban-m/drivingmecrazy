<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <!-- Fond awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>どうにかなりそう</title>

    <!-- CSS -->
    <link rel="stylesheet" href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;print.css" media="print">
    <link rel="stylesheet" href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;poole.css">
    <link rel="stylesheet" href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;hyde.css">
    <link rel="stylesheet" href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;override.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

    
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;rss.xml">
    

    
    
  </head>

  <body class=" ">
    
    <div class="sidebar">
      <div class="container sidebar-sticky">
        <div class="sidebar-about">
          
          <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com"><h1>どうにかなりそう</h1></a>
          
          <p class="lead">ゲノム生物学&#x2F;計算生物学等の論文についてのメモや、他の覚書等</p>
          
          
        </div>

        <ul class="sidebar-nav">
          
          
          <li><a href="&#x2F;about_me">About</a></li>
          
          <li><a href="&#x2F;blog">Blog</a></li>
          
		  <li>
			<a href="mailto:ikkaidoh@gmail.com"><i class="fas fa-envelope"></i></a>
			<a href="https://twitter.com/Ikkaidoh_Yoh"><i class = "fab fa-twitter"></i></a>
			<a href="https://bitbucket.org/yoh_ikkaidoh"><i class="fab fa-bitbucket"></i></i></a>
			<!-- <a href=""><i class="fab fa-bitbucket"></i></a> -->
          </li>
          
        </ul>
      </div>
    </div>
    

    <div class="content container">
      
      <div class="posts">
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;rust-c-ffi&#x2F;">
              RustからCの関数&#x2F;構造体&#x2F;ポインタをFFIを用いて使用する
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h1 id="korehahe">これは何？</h1>
<p>Cのライブラリや関数をRustから呼ぶときの方法を記したもの。かなり互換性はあるが、変なところで詰まるので注意。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;rust-c-ffi&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-06-14</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;nonblockingio&#x2F;">
              Rust言語でファイルI&#x2F;Oと入力の処理を別のスレッドで実行する(非同期I&#x2F;O)
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h1 id="korehahe">これは何？</h1>
<p>タイトル通り、Rust言語で、入力（ファイルの読み込み）をあるスレッドで行い、入力の処理を別のスレッドで行うプログラムを書く。</p>
<p>なぜこんな処理が必要になっているかというと、ファイルシステムが（単にインターネットを介しているなどの理由で）遅いことがあるからだ。また、データを一つずつ処理できるときは、いちいち<code>Vec&lt;T&gt;</code>などのコンテナにアロケートするより、出てきた順に処理した方が早くなりそう。</p>
<p>要点としては、</p>
<ul>
<li><code>Arc&lt;Mutex&lt;T&gt;&gt;</code>を使ってデータのやり取りをするのはヤバい</li>
<li>Multiple producer, single consumer channelが標準ライブラリに実装されているので、それを使う</li>
</ul>
<p>となる。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;nonblockingio&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-05-22</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-sequence-compression&#x2F;">
              塩基配列の圧縮について
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h2 id="korehahe">これは何？</h2>
<p>DNAシークエンサーの出力を圧縮することについてのメモ。
対象は</p>
<ul>
<li>ゲノムを扱っている</li>
<li>バイオインフォマティシャンで</li>
<li>配列の圧縮に興味がある</li>
</ul>
<p>人。いくつかの基本的な考え方と、現状の圧縮アルゴリズムの方針について簡単に述べる。
配列圧縮の有用性については<strong>書かない</strong>。（そもそも、配列なんて圧縮しなくても、二次記憶は十分にある、という考え方は完全に妥当だし、私もこの意見には賛同する。一方で、配列の圧縮は、HDDやSSDにどうやって保存するのか、という問題以上の価値が実はある）</p>
<p>基本的には、DNAシークエンサーとしてはilluminaのWGSデータを考える。つまり、</p>
<ul>
<li>リードはだいたい100塩基で、</li>
<li>エラー率は1％くらいで、</li>
<li>あるゲノムがあって、そこから（バイアスはあるにせよ）サンプリングされている</li>
</ul>
<p>という状況だ。もう少し、プロ出ない人向けに言い直すと、</p>
<ul>
<li>DNAシークエンサーは、DNA全長を読めるわけではなく、断片をちょっと読むのと大量に繰り返すのだが、</li>
<li>その一回の読み取り量が100塩基くらいで、</li>
<li>読み取りを失敗する確率が、塩基あたり1%くらいで、</li>
<li>事前に「これは人のゲノムを読んでいます」「トマトです」と言った事前知識がある</li>
</ul>
<p>ということだ。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-sequence-compression&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-05-20</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;introduction-to-rust-language&#x2F;">
              A Short Introduction to Rust Language
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h1 id="korehahe">これは何？</h1>
<p>Rust言語についてのイントロダクション。</p>
<p>対象としては、</p>
<ul>
<li>C/C++/pythonを使っている</li>
<li>バイオインフォマティシャン</li>
</ul>
<p>を想定していて、Fasta/Fastqファイル等々のI/Oを含めて、ある程度読み書きできるようになることを目標にしています。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;introduction-to-rust-language&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-04-26</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;handmade-bloom-filter-in-rust&#x2F;">
              手作りデータ構造：BloomFilter to count k-mers in a dataset
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h2 id="korehahe">これは何？</h2>
<p>データ内のk-merを数えるためのBloomFilterをRustで実装するときのテクについていくつか書いたもの。</p>
<ul>
<li>k-mer: 長さkの文字列のこと。k-gramと同じものを指す。例えば、&quot;AAA&quot;は3-mer。</li>
<li>BloomFilter:　複数のハッシュ関数を用いて、要素のフィンガープリントを作ることで、Hashableな要素からなる集合をコンパクトかつ高速に表すためのデータ構造。</li>
<li>Rust: Rustとは、安全性、平行性、そして速度に焦点を当てたシステムプログラミング言語です。</li>
</ul>
<p>今回は諸事情があって、文字列をアルファベット{A,C,G,T}上のものに絞る。</p>
<p>実装は<a href="https://bitbucket.org/yoh_ikkaidoh/handmade_bloom_filter/src/master/">bitbucket.org</a>においてある。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;handmade-bloom-filter-in-rust&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-03-28</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-strawberry-genome&#x2F;">
              実は甘くないイチゴゲノムについて
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h1 id="korehahe">これは何？</h1>
<p>今週発表された苺ゲノムのアセンブリについての雑感を記したもの。アセンブリについて述べる。</p>
<p>ベースになる論文は2月26日にNature Genetics に出版された<a href="https://www.nature.com/articles/s41588-019-0356-4">Origin and evolution of the octoploid strawberry genome</a>である。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-strawberry-genome&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-02-26</span>
        </div>
        
        
        
        
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;paper-small-is-big&#x2F;">
              論文紹介：Small is big in &lt;i&gt;Arabidopsis&lt;&#x2F;i&gt; mitochondrial ribosome
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h2 id="korehahe">これは何？</h2>
<p>論文紹介第1回（0回は先日行った）。今回はバイオインフォではなく、植物生物学の論文を紹介する。</p>
<p>タイトルは Small is big in <i>Arabidopsisi</i>mitochondria。リンクは<a href="https://www.nature.com/articles/s41477-018-0339-y">ここ</a>(Nature plantのページが開きます。)
内容としては、植物、得にシロイヌナズナのミトコンドリア内のリボソームの構造を解析した論文。
研究チームはフランス。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;paper-small-is-big&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-01-13</span>
        </div>
        
        
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;paper-a-pitfall-ml-method&#x2F;">
              論文紹介#0
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h2 id="korehahe">これは何？</h2>
<p>今年は生産性を上げるために、読んだ論文の要旨をまとめる。これはその第一弾。</p>
<p>読む論文は<a href="https://www.biorxiv.org/content/early/2019/01/04/512434">これ</a>(リンク先はbioRxiv)。</p>
<p>別にインターネットに書く必要はないが、これから同じ論文を参照することになる、日本語が読める人向けに残しておくことにする。</p>
<p>本記事はいくつかの理由で削除されうるし、内容に関してはほとんど責任を取らない。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;paper-a-pitfall-ml-method&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2019-01-11</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;processing&#x2F;">
              Processing Practice
            </a>
          </h1>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;processing&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2018-11-11</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-scs&#x2F;">
              最短共通包含文字列問題について
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h2 id="jin-ri-shu-kukoto">今日書くこと</h2>
<p>今日は最短共通包含文字列問題(Shortest Common Superstring Problem)という問題がNP完全であることを示す。</p>
<p>なんで突然こんな話を始めたかと言うと、これはゲノムアセンブリに関わっているからで（最近、ゲノムアセンブリについて
ずっと書いているが、僕は別にゲノムをアセンブルするような趣味も研究もしていない）、具体的には、次のようになる。</p>
<p>ゲノムアセンブリ（短いDNA断片から、元のゲノムを復元する）は、要するに、DNA断片の集合から、それらを
うまく『説明』するような配列を生成しろ、という問題だと思うことが出来る。</p>
<p>この『説明』というのが難しく、一体何を持って説明とするかは議論の分かれるところである。</p>
<p>例えば、<em>すべてのDNA断片を部分文字列として含む</em>というのを、『説明する』ことだとすると――確かに、
この定義は、DNA断片が虚空からではなく、ゲノムから読まれていると言うことは保証してくれるが――
色々と問題がある。</p>
<p>というのも、この定義に則って言えば、得られたDNA断片をすべて連接（つなげて）出力したものも、
DNA断片を『説明する』事になってしまうからだ。
もちろん、ゲノムを何十回・何百回を読んだ結果としてDNA断片たちが得られていると考えると、
このアセンブリは長すぎる。</p>
<p>この『長過ぎる』ということを逆手に取って、では、次のように定義してみてはどうだろうか。</p>
<blockquote>
<p>『説明する』とは、すべてのDNA断片を部分文字列として含むような文字列のうち、かなり短いものである</p>
</blockquote>
<p>もちろん、問題を<em>かなり</em>の部分に押し付けているだけなのだが、これを<em>最も短い</em>としたものが、
まさにShortest common superstring problemという問題である。</p>
<p>今日は、この問題の厳密な定義から始めて、これが難しいことを示す。
論文としては、</p>
<p>Gallant, J., Maier, D. and Astorer, J., 1980. On finding minimal length superstrings. Journal of Computer and System Sciences, 20(1), pp.50-58.(https://doi.org/10.1016/0022-0000(80)90004-5)</p>
<p>をほぼ完コピします。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-scs&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2018-09-28</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-de-brujin-graph&#x2F;">
              de Brujin Graphについてメモ
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h2 id="shu-kukoto">書くこと</h2>
<p>さてみなさん、我々は今や、<a href="https://www.ncbi.nlm.nih.gov/projects/genome/guide/human/">ヒトのゲノムをダウンロードできる</a>時代に生きていますが、
このゲノムとやらが、どのように作られて来たかは、かまぼこがどのように作られているか程度にしか知られていない、と思われる。
本日は、みなさんに、バイオインフォマティクスの一分野である、ゲノムアセンブリにおいてよく用いられている、de Brujin Graph（ド・ブロイグラフと日本語で発音する人がいるが、多くの外国語がそうであるように、これもまたオランダ語を流暢に話す人々のみに話せる単語らしい）と言うものについて解説します</p>
<p>もう少し簡単に言うと、こうなるります。<strong>あなたはある本Bを持っています。100冊のBをシュレッダーにかけてしまいました。シュレッダーから出てきた断片から、元の本を再構成するには、どうしたらよいでしょう？</strong> どのようなアルゴリズムを考えつくだろうか？　それはどのくらいきちんと動くだろうか？</p>
<p>または、次のような問いかけでもよい：あなたはピカソの絵を大量にコピーし、それをバラバラに切り刻みました。どのように元のピカソの絵を復元できるだろうか？</p>
<p>かなりインフォーマルに書くが、記法と正確性には気をつけようと思っている。</p>
<p>また、文末に参考文献をつけておくので、興味がある人は、自分でサーベイや実装をしてみてほしい。</p>
<p>もちろん、誤植や誤記、私が間違えている場所はありうるので、見つけ次第、Twitterかメールで報告していただけると、嬉しいです。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-de-brujin-graph&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2018-09-01</span>
        </div>
        
        
        
        <div class="post">
          <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-wheat-genome&#x2F;">
              コムギゲノム雑感
            </a>
          </h1>
	  
	  <div class="post-summary">
	    <h2 id="shu-kukoto">書くこと</h2>
<p>先日、Scienceでコムギのゲノムに関する研究が出版されたのだが、次のような速報で取り沙汰されていた。</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="ja" dir="ltr">コムギのゲノム、完全解読に初めて成功 <a href="https://t.co/vYzyXelSPa">https://t.co/vYzyXelSPa</a> 異質6倍体であるコムギのゲノムを解読。転写解析も。Science原著↓ <a href="https://t.co/rE2FCQ8qfN">https://t.co/rE2FCQ8qfN</a>   <a href="https://t.co/OiZjFtA6vw">https://t.co/OiZjFtA6vw</a></p>&mdash; 俺のソース (論文紹介) (@OrenoSource) <a href="https://twitter.com/OrenoSource/status/1030290485535887361?ref_src=twsrc%5Etfw">August 17, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p><a href="https://doi.org/10.1126/science.aar6089">原著論文</a>から辿れるアルトメトリックを見た感じでは、このPostが、日本においては最もRT/Fabされているように見受けられる。</p>
<p>私見では、このPostは、間違ってはいないと思うが、少しざっくり書きすぎだと感じる。具体的には、完全読解を『ゲノムの文字を全て正しく並べる』という意味で使っているなら、コムギのゲノムの完全解読は未だできていない。より一般に、真核多細胞生物のゲノムで、完全解読されているものを、僕は知らない（線虫のゲノムは完全解読されている、と<a href="https://en.wikipedia.org/wiki/Caenorhabditis_elegans">英版wikipedia</a>には書いてあるが、これは嘘です）。</p>
<p>例えば、コムギは21本*2の染色体を持つが、今回発表されたのは138,665本の配列だ。ゲノムサイズは15.76Gbpだが、上記の138,665本を全て繋いでも、14.5Gbpにしかならない。</p>
<p>ちなみに、植物モデル生物シロイヌナズナは、約140Mbpくらいで、染色体は5本、配列は100本である。</p>
<p>今日は、『ゲノムの文字を正しく並べる』（ゲノムアセンブリを行う、という）ことが何を指しているのか、これまで何がされてきたのか、どんな技術があるか、といった周辺知識を書いておくことで、140字には載り切らなかったであろう情報を補填しておきたい。</p>
<p>一応、確認を取りながら書いていくつもりだが、もちろん、たくさん間違いがあると思うので、見つけ次第、Twitterやメールで教えていただけると嬉しいです。</p>

	  </div>
	  
          <div class="read-more">
            <a href = "https:&#x2F;&#x2F;drivingmecrazy.netlify.com&#x2F;blog&#x2F;about-wheat-genome&#x2F;">もっと読む</a>
          </div>
          <span class="post-date">2017-08-23</span>
        </div>
        
        
      </div>
      
    </div>
  </body>
</html>
